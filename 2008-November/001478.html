<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> quickly cloning an existing statusbar script (date)?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/ion-general/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:ion-general%40lists.berlios.de?Subject=Re%3A%20quickly%20cloning%20an%20existing%20statusbar%20script%20%28date%29%3F&In-Reply-To=%3Cslrnghp0fl.lj7.tuomov%40jolt.modeemi.cs.tut.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001476.html">
   <LINK REL="Next"  HREF="001480.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>quickly cloning an existing statusbar script (date)?</H1>
    <B>Tuomo Valkonen</B> 
    <A HREF="mailto:ion-general%40lists.berlios.de?Subject=Re%3A%20quickly%20cloning%20an%20existing%20statusbar%20script%20%28date%29%3F&In-Reply-To=%3Cslrnghp0fl.lj7.tuomov%40jolt.modeemi.cs.tut.fi%3E"
       TITLE="quickly cloning an existing statusbar script (date)?">tuomov at iki.fi
       </A><BR>
    <I>Thu Nov 13 20:37:25 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001476.html">quickly cloning an existing statusbar script (date)?
</A></li>
        <LI>Next message: <A HREF="001480.html">quickly cloning an existing statusbar script (date)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1478">[ date ]</a>
              <a href="thread.html#1478">[ thread ]</a>
              <a href="subject.html#1478">[ subject ]</a>
              <a href="author.html#1478">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2008-11-13, Juri Mianovich &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/ion-general">juri_mian at yahoo.com</A>&gt; wrote:
&gt;<i> But the statusbar just has a &quot;??&quot; in it for &quot;%ukdate&quot;, even though that
</I>&gt;<i> script exists.
</I>
The monitor must of course be modified to use the correct meter names...

&gt;<i> ALSO, I am not sure how I would edit statusd_ukdate.lc to have a +7 hours
</I>&gt;<i> in its 'date' command, since the .lc file is not text, but just binary
</I>&gt;<i> data.
</I>
... for which you need to modify the original .lua file.

&gt;<i> My second attempt was to just change the default date_format line in
</I>&gt;<i> cfg_statusbar.lua to output multiple dates:
</I>&gt;<i>
</I>&gt;<i> date_format='%a %Y-%m-%d %H:%M (US) || %a %Y-%m-%d %H:%M (UK)
</I>&gt;<i>
</I>&gt;<i> This ^^^ DOES work, but I do not see how to modify the:
</I>&gt;<i>
</I>&gt;<i> %a %Y-%m-%d %H:%M
</I>&gt;<i>
</I>&gt;<i> to add a +7 offset to %H ...
</I>
There's no simple way. The date monitor supports multiple
simultaneous date formats (rtf config file), so one could
add a zone option for them, and modify the values in the
date table.

But I'm not sure this will have the correct effect. You see, 
we have this excellent demonstration of the idiocy of mankind, 
called daylight saving time. And the times it changes, are 
different for different locales.

So, I'm not actually sure you can get good multi-zone dates
from libc without Awful Hacks, as it does not support specifying
the zone from your code, just through the environment or other 
configuration files. Better multi-zone dates would probably 
involve a programming effort with some library better suited 
to that. Or calling an external program that does it, which 
is a bit too resource-intensive for a time display monitor. 

However, libc does support UTC/GMT in addition to the local
tie zone, and Lua should display that if you start the format
string with '!'.

-- 
Be an early adopter! Beat the herd! Choose Windows today!


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001476.html">quickly cloning an existing statusbar script (date)?
</A></li>
	<LI>Next message: <A HREF="001480.html">quickly cloning an existing statusbar script (date)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1478">[ date ]</a>
              <a href="thread.html#1478">[ thread ]</a>
              <a href="subject.html#1478">[ subject ]</a>
              <a href="author.html#1478">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/ion-general">More information about the Ion-general
mailing list</a><br>
</body></html>
