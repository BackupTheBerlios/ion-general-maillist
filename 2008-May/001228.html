<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Minor issue when using alternate xkb groups
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/ion-general/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:ion-general%40lists.berlios.de?Subject=Re%3A%20Minor%20issue%20when%20using%20alternate%20xkb%20groups&In-Reply-To=%3C54171.88.146.1.38.1211980160.squirrel%40drak.ucw.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001227.html">
   <LINK REL="Next"  HREF="001229.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Minor issue when using alternate xkb groups</H1>
    <B>Tom&#225;&#353; Ebenlendr</B> 
    <A HREF="mailto:ion-general%40lists.berlios.de?Subject=Re%3A%20Minor%20issue%20when%20using%20alternate%20xkb%20groups&In-Reply-To=%3C54171.88.146.1.38.1211980160.squirrel%40drak.ucw.cz%3E"
       TITLE="Minor issue when using alternate xkb groups">ebik at drak.ucw.cz
       </A><BR>
    <I>Wed May 28 15:09:20 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001227.html">Minor issue when using alternate xkb groups
</A></li>
        <LI>Next message: <A HREF="001229.html">Minor issue when using alternate xkb groups
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1228">[ date ]</a>
              <a href="thread.html#1228">[ thread ]</a>
              <a href="subject.html#1228">[ subject ]</a>
              <a href="author.html#1228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, xkb was very shitty last years, now sucks bit less:
Option &quot;XkbLayout&quot; &quot;us+cz:2+inet6720+group(switch)+group(shifts_toggle)&quot;

So I have us keyboard as group 1, czech keyboard as group 2,
inet6720 defines additional keys on my usb keyboard, group(switch) changes
AltGr to group modifier, and group(shifts_toggle) makes press of both
shifts to be inerpreted as group-lock. Also I use xkbvleds swallowed by
statusbar (as tray application) to indicate status of group-lock and
all three standard locks. - my notebook doesn't have keyboard leds and also
it is more comfortable to have the leds in front of my head instead of
&quot;below fingers&quot;.

Speaking about the additional keys: I have some bindings in ion, and after
last upgrade of Xorg/debian it complains it does not know the keysyms like
XF86WWW and so on (these I map in inet6720 file). But it complains only
when X is is started. Later, when restarted it founds these keysyms. I did
not searched what the xorg did fu**ed up, so if anybody knows...

Dne 28 Kv&#283;ten 2008, 13:23, Tuomo Valkonen napsal(a):
&gt;<i> On 2008-05-27 09:45 +0000, Tuomo Valkonen wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On further inspection, standard Mode_Switch also seems to
</I>&gt;&gt;<i> set the state mask 0x2000, but it is typically non-locking, so there's no
</I>&gt;&gt;<i> problem. We certainly should not ignore a non-locking Mode_Switch bit
</I>&gt;&gt;<i> (typically AltGr in non-braindead
</I>&gt;&gt;<i> xmodmap user-customisable keymaps). Perhaps the only solution is
</I>&gt;&gt;<i> configurability of locking mods. (Or does Xkb offer that info? In any
</I>&gt;&gt;<i> case I CBA.)
</I>&gt;<i>
</I>&gt;<i> Another strange thing is that ISO_Level3_Shit does not set
</I>&gt;<i> a special &quot;group&quot; bit. Rather, to even remotely emulate appearing to
</I>&gt;<i> work^1, it seems to depend on being mapped to _some_ modifier. I suppose
</I>&gt;<i> Xlib then uses Dirty Hacks to check whether modifiers
</I>&gt;<i> are mapped to that key specifically.
</I>&gt;<i>
</I>&gt;<i> ---
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ^1 My keymap depends heavily on remapping of AltGr, traditionally mapped
</I>&gt;<i> as Mode_Switch, configurable in the third and fourth fields of xmodmap
</I>&gt;<i> keycode lines. Xkb keymaps killed that user configurability, by switching
</I>&gt;<i>  to ISO_Level3_Shit not accessible with xmodmap at that time -- and not as
</I>&gt;<i> conveniently as Mode_Switch even now, plus ISO_Level3_Shit+j and a few
</I>&gt;<i> other keys also don't work at all. (No, it's not keyboard hardware
</I>&gt;<i> crappiness; the same keycombo as Mode_Switch+j works.) I therefore use a
</I>&gt;<i> full custom .Xmodmap stored from pre-Xkb X. (Xkb isn't user-configurable;
</I>&gt;<i>  its keymaps are essential program source code, as are fontconfig's XML
</I>&gt;<i> crap and udev's properietary shit. They're not configuration files,
</I>&gt;<i> they're source code meant for developers only.)
</I>&gt;<i>
</I>&gt;<i> As for my keymap, as it might be of some interest:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The mostly useless caps lock has of course become a control key.
</I>&gt;<i> Tilde and caret have swapped the shift modifier from standard
</I>&gt;<i> .fi layout. The _very_ conveniently placed altgr (=Mode_Switch)
</I>&gt;<i> right of left shift has &lt;&gt;| (plain, shift, altgr) on it in the standard
</I>&gt;<i> layout, whereas the standard altgr is right of spacebar, which makes for
</I>&gt;<i> very cumbersome combos for braces etc. found in the number row of the
</I>&gt;<i> altgr map. That row of my altgr map along with the euro sign and the two
</I>&gt;<i> accents on the right are standard (in the X map; some of the keys are not
</I>&gt;<i> printed on the layouts), the rest are my additions. (The key left of right
</I>&gt;<i> shift is n-dash, quite undistinguishable from a short dash in a
</I>&gt;<i> fixed-width font.)
</I>&gt;<i>
</I>&gt;<i> plain
</I>&gt;<i>
</I>&gt;<i> &#167;          1 2 3 4 5 6 7 8 9 0 + &#180;   bsp
</I>&gt;<i> tab         q w e r t y u i o p ? ~  ent ctrl        a s d f g h j k l &#246; &#228;
</I>&gt;<i> '   er
</I>&gt;<i> lshift altgr z x c v b n m , . -  rshift
</I>&gt;<i>
</I>&gt;<i> shift
</I>&gt;<i>
</I>&gt;<i> ?          ! &quot; # &#164; % &amp; / ( ) = ? `   bsp
</I>&gt;<i> tab         Q W E R T Y U I O P ? ^  ent ctrl        A S D F G H J K L &#214; &#196;
</I>&gt;<i> *   er
</I>&gt;<i> lshift altgr Z X C V B N M ; : _  rshift
</I>&gt;<i>
</I>&gt;<i> altgr (= Mode_Switch)
</I>&gt;<i>
</I>&gt;<i> ?          ? @ ? $ ? ? { [ ] } \ &#184;   bsp
</I>&gt;<i> tab             ?         [ ]     &#168;  ent ctrl          &lt; | &gt;   { } ( ) \
</I>&gt;<i> &#180;   er
</I>&gt;<i> lshift altgr       ? ? ? ?   ? ?  rshift
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Tuomo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Tomas Ebenlendr
                            <A HREF="http://drak.ucw.cz/~ebik">http://drak.ucw.cz/~ebik</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001227.html">Minor issue when using alternate xkb groups
</A></li>
	<LI>Next message: <A HREF="001229.html">Minor issue when using alternate xkb groups
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1228">[ date ]</a>
              <a href="thread.html#1228">[ thread ]</a>
              <a href="subject.html#1228">[ subject ]</a>
              <a href="author.html#1228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/ion-general">More information about the Ion-general
mailing list</a><br>
</body></html>
